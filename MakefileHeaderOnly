CXXFLAGS=-std=c++14 -Wall -Wextra -Wpedantic -fsanitize=address

all: Tensorh format lint

clean:
	rm -f *.o *.gch

lint:
	cpplint --recursive Tensor.h

format:
	clang-format -i -style=Google Tensor.h

Tensorh: Tensor.h
	g++ -x c++-header -c Tensor.h -o Tensor.h.gch $(CXXFLAGS)

.PHONY: clean lint format all
.DEFAULT_GOAL := all

